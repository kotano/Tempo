<PaddedButton@Button>:
    padding: 5, 10
<ListLabel@Label>:
    color: 0, 0, 0, 1

<PrioritySpinner>:
    text_autoupdate: True
    color: 0, 0, 0, 1
    values: ('-', 'High', 'Normal', 'Low')
    size_hint_y: None
    height: 40
    background_normal: ''

<TaskHolder@GridLayout>:
    id: taskholder
    spacing: 0, 10
    padding: 10, 10
    cols: 1

<PriorityDropdown>:
    #! to remove
    dropbtn: dropbtn.__self__
    dropdown: dropdown.__self__
    Button:
        id: dropbtn
        center: self.center
        text: '-'
        background_normal: ''
        # border: 0, 1, 0, 1
        color: 0, 0, 0, 1
        on_release: dropdown.open(self)
        size_hint_y: None
        height: 40
        on_parent: dropdown.dismiss()

    # Widget:
        # on_parent: dropdown.dismiss()

    DropDown:

        id: dropdown
        on_select: dropbtn.text = '{}'.format(args[1])
        height: 40

        Button:
            text: '-'
            size_hint_y: None
            height: 40
            on_release: dropdown.select(self.text)
        Button:
            text: 'High'
            size_hint_y: None
            height: 40
            on_release: dropdown.select(self.text)

        Button:
            text: 'Normal'
            size_hint_y: None
            height: 40
            on_release: dropdown.select(self.text)

        Button:
            text: 'Low'
            size_hint_y: None
            height: 40
            on_release: dropdown.select(self.text)
    

<Task>:
    size_hint_y: None
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    size_hint_y: None
    height: 40
    # Widget:
    #     id: checkbox
    #     size_hint: 0.2, 0.2
        # on_touch_down: print(self.center, self.size)
        # canvas: 
        #     Color:
        #         rgba: .5, .5, .5, 1
        #     Line:
        #         width: 1
        #         # rectangle: self.x + self.width / 4, self.y + self.height / 4, self.width - self.width / 4, self.height - self.height / 4
        #         rectangle: self.x + self.width / 4, self.y + self.height / 4, self.width - 15, self.height - 15 
        #         # pos: self.x - self.width / 4, self.height / 16
    # AnchorLayout:
    #     size_hint: 0.2, 0.2
    #     anchor_x: 'center'
    #     anchor_y: 'top'
    #     # color: 1, 1, 1, 1
    # CheckBox:
    #     size_hint: 0.2, 0.2
        # size: 10, 10
        # canvas:
        #     Color:
        #         rgb: 1, 0, 0
        #     Rectangle:
        #         pos: self.pos
        #         size: self.size
        

    # TextInput:
    # #taskname
    #     focus: True
    #     hint_text: 'My new task!'
    #     multiline: False
    #     size_hint_x: 2
    # # PriorityDropdown:
    # Spinner:
    #     text: '-'
    #     color: 0, 0, 0, 1
    #     values: ('-', 'High', 'Normal', 'Low')
    #     size_hint_y: None
    #     height: 40
    #     background_normal: ''
    # ListLabel:
    #     text:
    # ListLabel:
    #     text:



<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    background_normal:
    option_cls:


############################# ROOT #########################
RootWidget:
<RootWidget>:
    taskholder: taskholder
    orientation: 'vertical'
    canvas.before:
        Color:
            # rgba: .70, .88, .87, 1
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
    ActionBar:
        # size_hint_y: 0.2
        height: '50dp'
        ActionView:
            id: av
            ActionPrevious:
                with_previous: False
                title:
                on_release:

            # ActionSpinner:
            #     id: spnr
            #     important: True
            #     text: 'Jump to Screen'
            #     values: 
            #     on_text:
            ActionToggleButton:
                text: 
                icon: 
                on_release:
            ActionButton:
                # text: 'Previous screen'
                icon: 
                on_release: 

            ActionButton:
                text: 
                icon: 
                on_release:
                important: 

    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, 1, 1, 1
            Rectangle:
                size: self.size
####################### Sidebar ########################
        BoxLayout:
            padding: 10
            orientation: 'vertical'
            size_hint_x: None
            size: 70, self.height

            PaddedButton:
            PaddedButton:
            PaddedButton:
################## List ####################
        GridLayout:
            spacing: 0, 10
            padding: 10, 10
            cols: 1
            Button:
                size_hint_y: None
                height: 40
                text: 'Add new task'
                on_release: root.add_list_item()
            BoxLayout:
                size_hint_y: None
                height: 40
                canvas.before:
                    Color:
                        rgb: .5, .5, .5, 1
                    Line:
                        points: self.x, self.y, self.x + self.width, self.y
                        width: 1
                ListLabel:
                    size_hint_x: 2
                    text: 'Tasks'
                ListLabel:
                    text: 'Priority'
                ListLabel:
                    text: 'Time'
                ListLabel:
                    text: 'Deadline'
                
############### FIRST ELEMENT ####################
            TaskHolder:
                id: taskholder
                # BoxLayout:
                #     size_hint_y: None
                #     canvas.before:
                #         Color:
                #             rgba: .5, .5, .5, 1
                #         Line:
                #             width: 1
                #             rectangle: self.x, self.y, self.width, self.height
                #     size_hint_y: None
                #     height: 40
                #     TextInput:
                #         text: 'Do homework'
                #         size_hint_x: 2
                #     ListLabel:
                #         text: 'High'
                #     ListLabel:
                #         text: '25H'
                #     ListLabel:
                #         text: 'May 5'
#########