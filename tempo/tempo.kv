<Text@Label>
    color: app.root.COLORS['TextColor']

<PaddedButton@Button>:
    padding: 5, 10

<PressableLabel>:
    color: 0, 0, 0, 1

<DefaultInput@TextInput>:
    background_normal: ''
    write_tab: False
    multiline: False
    canvas.after:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<Box@BoxLayout>:
    canvas.after:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<DateInput@DefaultInput>:
    border: 1, 1, 1, 1


<PrioritySpinner@Spinner>:
    text_autoupdate: True
    color: 0, 0, 0, 1
    values: ('-', '!!!High', '!!Normal', '!Low')
    size_hint_y: None
    height: 40
    background_normal: ''
<TaskHolder@GridLayout>:
    id: taskholder
    spacing: 0, 10
    padding: 10, 10
    cols: 1


# <TaskProgress@BoxLayout>:
<PressableBoxLayout>:
    # dropbtn: dropbtn.__self__
    # dropdown: dropdown.__self__
    # Button:
    #     id: dropbtn
    #     center: self.center
    #     text: '-'
    #     background_normal: ''
    #     # border: 0, 1, 0, 1
    #     color: 0, 0, 0, 1
    #     on_release: dropdown.open(self)
    #     size_hint_y: None
    #     height: 40
    #     on_parent: dropdown.dismiss()

    # DropDown:
    #     id: dropdown
    #     on_select: dropbtn.text = '{}'.format(args[1])
    #     height: 40

    #     DefaultInput:
    #         text: '-'
    #         size_hint_y: None
    #         height: 40
            # on_release: dropdown.select(self.text)

# TASK #
<Task>:
    size_hint_y: None
    canvas.after:
        Color:
            rgb: .5, .5, .5, 1
        Line:
            points: self.x, self.y - 4, self.x + self.width, self.y -4
            width: 1
    size_hint_y: None
    height: 40


# Subtask
<Subtask>:
    padding: 5, 5
    background_normal: ''

<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12
    background_normal:
    option_cls:


######################## ROOT #########################
RootWidget:
<RootWidget>:
    taskholder: taskholder
    orientation: 'vertical'
    canvas.before:
        Color:
            # rgba: .70, .88, .87, 1
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
    ActionBar:
        # size_hint_y: 0.2
        height: '50dp'
        # background_color: .70, .88, .87, .9
        # background_image: ''
        ActionView:
            id: av
            ActionPrevious:
                with_previous: False
                title: ''
                app_icon: './docs/sources/logo.png'
                on_release:
                background_normal: ''

# Container
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, 1, 1, 1
            Rectangle:
                size: self.size
# Sidebar
        BoxLayout:
            padding: 10
            orientation: 'vertical'
            size_hint_x: None
            size: 70, self.height

            PaddedButton:
            PaddedButton:
            PaddedButton:
# Content window
        GridLayout:
            id: content_window
            spacing: 0, 10
            padding: 10, 10
            cols: 1
            Button:
                size_hint_y: None
                height: 40
                text: 'Add new task'
                on_release: root.add_new_task()
            BoxLayout:
                size_hint_y: None
                height: 40
                canvas.before:
                    Color:
                        rgb: .5, .5, .5, 1
                    Line:
                        points: self.x, self.y, self.x + self.width, self.y
                        width: 2
                PressableLabel:
                    size_hint_x: 2
                    text: 'Taskname'
                    on_release: root.sort_tasks(self)
                PressableLabel:
                    text: 'Priority'
                    on_release: root.sort_tasks(self)
                PressableLabel:
                    text: 'Time'
                    on_release: root.sort_tasks(self)
                PressableLabel:
                    text: 'Deadline'
                    on_release: root.sort_tasks(self)

            CustomScroll:
                do_scroll_x: False
                do_scroll_y: True
# Taskholder
                TaskHolder:
                    id: taskholder
                    size_hint: 1, None
                    height: content_window.height
